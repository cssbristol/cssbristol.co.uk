<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset=utf-8>
  <meta name="description" content="CSS is the University of Bristol Computer Science Society. We exist to represent, support and entertain all members of the Computer Science department.">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/assets/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/assets/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/assets/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/assets/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/assets/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/assets/favicons/manifest.json">
<link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#3498db">
<meta name="msapplication-TileImage" content="/assets/favicons/mstile-144x144.png">
<meta name="theme-color" content="#3498db">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Command-Option-Argument - CSS Bristol">
<meta property="og:description" content="CSS is the University of Bristol Computer Science Society. We exist to represent, support and entertain all members of the Computer Science department.">
<meta property="og:image" content="https://cssbristol.co.uk/assets/images/core/og-image.png" />
<meta property="og:url" content="https://cssbristol.co.uk/node_modules/coa/README.ru.html">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Command-Option-Argument - CSS Bristol">
<meta name="twitter:description" content="CSS is the University of Bristol Computer Science Society. We exist to represent, support and entertain all members of the Computer Science department.">
<meta name="twitter:image" content="https://cssbristol.co.uk/assets/images/core/og-image.png">
<meta name="twitter:site" content="@cssbristol">
 

  <title>Command-Option-Argument - CSS Bristol</title>
  <meta name="description" content="CSS is the University of Bristol Computer Science Society. We exist to represent, support and entertain all members of the Computer Science department.">


  <link rel="stylesheet" href="/assets/css/site.css" />
  <link rel="canonical" href="http://www.cssbristol.co.uk/node_modules/coa/README.ru.html" />
  <link rel="alternate" type="application/rss+xml" title="CSS Bristol" href="http://www.cssbristol.co.uk/feed.xml" />

  <script src="https://kit.fontawesome.com/5918af34b4.js" crossorigin="anonymous"></script>

  <!-- FullCalendar -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.7.2/fullcalendar.min.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.7.2/fullcalendar.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.7.2/gcal.js"></script>

  <script type="text/javascript">
    $(function() {
      var images = ['header-bg-01.jpg', 'header-bg-02.jpg', 'header-bg-03.jpg', 'header-bg-04.jpg'];
      $('#page-header--random-bg').css({'background-image': 'url(/assets/images/core/' + images[Math.floor(Math.random() * images.length)] + ')'});
    });
  </script>
</head>


  <body>

    <header class="page-header" id="page-header--random-bg">
  <div class="navigation-items">
    <div itemscope itemtype="http://schema.org/Organization">
      <span style="display: none;" itemprop="name">University of Bristol Computer Science Society</span>
      <a aria-label="Home" href="http://www.cssbristol.co.uk" class="page-header__logo" itemprop="url">
        <!-- <img src="/assets/images/core/logo-inline-light.png" alt="CSS Bristol logo" itemprop="logo"> -->
      </a>
    </div>
    <nav class="page-navigation">
      <ul class="page-navigation__links">
        
          
        
          
          <li><a href="/about/">About</a></li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <li><a href="/contact/">Contact</a></li>
          
        
          
        
          
          <li><a href="/events/">Events</a></li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <li><a href="/jobs/">Jobs</a></li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <li><a href="/tutorials/">Tutorials</a></li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <li><a href="/wellbeing/">Wellbeing</a></li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </nav>
  </div>
  
</header>


    <section class="page-section">
  <article class="article">
    <h1 id="command-option-argument">Command-Option-Argument</h1>
<p><a href="http://travis-ci.org/veged/coa"><img src="https://secure.travis-ci.org/veged/coa.png" alt="build status" /></a></p>

<h2 id="что-это">Что это?</h2>

<p>COA — парсер параметров командной строки, позволяющий извлечь максимум пользы от формального API вашей программы.
Как только вы опишете определение в терминах команд, параметров и аргументов, вы автоматически получите:</p>

<ul>
  <li>Справку для командной строки</li>
  <li>API для использования программы как модуля в COA-совместимых программах</li>
  <li>Автодополнение для командной строки</li>
</ul>

<h3 id="прочие-возможности">Прочие возможности</h3>

<ul>
  <li>Широкий выбор настроек для параметров и аргументов, включая множественные значения, логические значения и обязательность параметров</li>
  <li>Возможность асинхронного исполнения команд, используя промисы (используется библиотека <a href="https://github.com/kriskowal/q">Q</a>)</li>
  <li>Простота использования существующих команд как подмодулей для новых команд</li>
  <li>Комбинированная валидация и анализ сложных значений</li>
</ul>

<h2 id="примеры">Примеры</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">coa</span><span class="dl">'</span><span class="p">).</span><span class="nx">Cmd</span><span class="p">()</span> <span class="c1">// декларация команды верхнего уровня</span>
    <span class="p">.</span><span class="nx">name</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="c1">// имя команды верхнего уровня, берем из имени программы</span>
    <span class="p">.</span><span class="nx">title</span><span class="p">(</span><span class="dl">'</span><span class="s1">Жутко полезная утилита для командной строки</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// название для использования в справке и сообщениях</span>
    <span class="p">.</span><span class="nx">helpful</span><span class="p">()</span> <span class="c1">// добавляем поддержку справки командной строки (-h, --help)</span>
    <span class="p">.</span><span class="nx">opt</span><span class="p">()</span> <span class="c1">// добавляем параметр</span>
        <span class="p">.</span><span class="nx">name</span><span class="p">(</span><span class="dl">'</span><span class="s1">version</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// имя параметра для использования в API</span>
        <span class="p">.</span><span class="nx">title</span><span class="p">(</span><span class="dl">'</span><span class="s1">Version</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// текст для вывода в сообщениях</span>
        <span class="p">.</span><span class="nx">short</span><span class="p">(</span><span class="dl">'</span><span class="s1">v</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// короткое имя параметра: -v</span>
        <span class="p">.</span><span class="nx">long</span><span class="p">(</span><span class="dl">'</span><span class="s1">version</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// длинное имя параметра: --version</span>
        <span class="p">.</span><span class="nx">flag</span><span class="p">()</span> <span class="c1">// параметр не требует ввода значения</span>
        <span class="p">.</span><span class="nx">act</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">opts</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// действия при вызове аргумента</span>
            <span class="c1">// результатом является вывод текстового сообщения</span>
            <span class="k">return</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">).</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">__dirname</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/package.json</span><span class="dl">'</span><span class="p">))</span>
                <span class="p">.</span><span class="nx">version</span><span class="p">;</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="nx">end</span><span class="p">()</span> <span class="c1">// завершаем определение параметра и возвращаемся к определению верхнего уровня</span>
    <span class="p">.</span><span class="nx">cmd</span><span class="p">().</span><span class="nx">name</span><span class="p">(</span><span class="dl">'</span><span class="s1">subcommand</span><span class="dl">'</span><span class="p">).</span><span class="nx">apply</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./subcommand</span><span class="dl">'</span><span class="p">).</span><span class="nx">COA</span><span class="p">).</span><span class="nx">end</span><span class="p">()</span> <span class="c1">// загрузка подкоманды из модуля</span>
    <span class="p">.</span><span class="nx">cmd</span><span class="p">()</span> <span class="c1">// добавляем еще одну подкоманду</span>
        <span class="p">.</span><span class="nx">name</span><span class="p">(</span><span class="dl">'</span><span class="s1">othercommand</span><span class="dl">'</span><span class="p">).</span><span class="nx">title</span><span class="p">(</span><span class="dl">'</span><span class="s1">Еще одна полезная подпрограмма</span><span class="dl">'</span><span class="p">).</span><span class="nx">helpful</span><span class="p">()</span>
        <span class="p">.</span><span class="nx">opt</span><span class="p">()</span>
            <span class="p">.</span><span class="nx">name</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">).</span><span class="nx">title</span><span class="p">(</span><span class="dl">'</span><span class="s1">input file, required</span><span class="dl">'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">short</span><span class="p">(</span><span class="dl">'</span><span class="s1">i</span><span class="dl">'</span><span class="p">).</span><span class="nx">long</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// функция-валидатор, также может использоваться для трансформации значений параметров</span>
                <span class="k">return</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">).</span><span class="nx">createReadStream</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">})</span>
            <span class="p">.</span><span class="nx">req</span><span class="p">()</span> <span class="c1">// параметр является обязательным</span>
            <span class="p">.</span><span class="nx">end</span><span class="p">()</span> <span class="c1">// завершаем определение параметра и возвращаемся к определению команды</span>
        <span class="p">.</span><span class="nx">end</span><span class="p">()</span> <span class="c1">// завершаем определение подкоманды и возвращаемся к определению команды верхнего уровня</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span> <span class="c1">// разбираем process.argv и запускаем</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// subcommand.js</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">COA</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span>
        <span class="p">.</span><span class="nx">title</span><span class="p">(</span><span class="dl">'</span><span class="s1">Полезная подпрограмма</span><span class="dl">'</span><span class="p">).</span><span class="nx">helpful</span><span class="p">()</span>
        <span class="p">.</span><span class="nx">opt</span><span class="p">()</span>
            <span class="p">.</span><span class="nx">name</span><span class="p">(</span><span class="dl">'</span><span class="s1">output</span><span class="dl">'</span><span class="p">).</span><span class="nx">title</span><span class="p">(</span><span class="dl">'</span><span class="s1">output file</span><span class="dl">'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">short</span><span class="p">(</span><span class="dl">'</span><span class="s1">o</span><span class="dl">'</span><span class="p">).</span><span class="nx">long</span><span class="p">(</span><span class="dl">'</span><span class="s1">output</span><span class="dl">'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">output</span><span class="p">()</span> <span class="c1">// использовать стандартную настройку для параметра вывода</span>
            <span class="p">.</span><span class="nx">end</span><span class="p">()</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="api">API</h2>

<h3 id="cmd">Cmd</h3>
<p>Команда — сущность верхнего уровня. У команды могут быть определены параметры и аргументы.</p>

<h4 id="cmdapi">Cmd.api</h4>
<p>Возвращает объект, который можно использовать в других программах. Подкоманды являются методами этого объекта.<br />
<strong>@returns</strong> <em>{Object}</em></p>

<h4 id="cmdname">Cmd.name</h4>
<p>Определяет канонический идентификатор команды, используемый в вызовах API.<br />
<strong>@param</strong> <em>String</em> <code class="language-plaintext highlighter-rouge">_name</code> имя команды<br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр команды (для поддержки цепочки методов)</p>

<h4 id="cmdtitle">Cmd.title</h4>
<p>Определяет название команды, используемый в текстовых сообщениях.<br />
<strong>@param</strong> <em>String</em> <code class="language-plaintext highlighter-rouge">_title</code> название команды<br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр команды (для поддержки цепочки методов)</p>

<h4 id="cmdcmd">Cmd.cmd</h4>
<p>Создает новую подкоманду или добавляет ранее определенную подкоманду к текущей команде.<br />
<strong>@param</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">[cmd]</code> экземпляр ранее определенной подкоманды<br />
<strong>@returns</strong> <em>COA.Cmd</em> экземпляр новой или ранее определенной подкоманды</p>

<h4 id="cmdopt">Cmd.opt</h4>
<p>Создает параметр для текущей команды.<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">new</code> экземпляр параметра</p>

<h4 id="cmdarg">Cmd.arg</h4>
<p>Создает аргумент для текущей команды.<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">new</code> экземпляр аргумента</p>

<h4 id="cmdact">Cmd.act</h4>
<p>Добавляет (или создает) действие для текущей команды.<br />
<strong>@param</strong> <em>Function</em> <code class="language-plaintext highlighter-rouge">act</code> функция,
    выполняемая в контексте экземпляра текущей команды
    и принимающая следующие параметры:<br />
        - <em>Object</em> <code class="language-plaintext highlighter-rouge">opts</code> параметры команды<br />
        - <em>Array</em> <code class="language-plaintext highlighter-rouge">args</code> аргументы команды<br />
        - <em>Object</em> <code class="language-plaintext highlighter-rouge">res</code> объект-аккумулятор результатов<br />
    Функция может вернуть проваленный промис из Cmd.reject (в случае ошибки)
    или любое другое значение, рассматриваемое как результат.<br />
<strong>@param</strong> <em>{Boolean}</em> [force=false] флаг, назначающий немедленное исполнение вместо добавления к списку существующих действий<br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр команды (для поддержки цепочки методов)</p>

<h4 id="cmdapply">Cmd.apply</h4>
<p>Исполняет функцию с переданными аргументами в контексте экземпляра текущей команды.<br />
<strong>@param</strong> <em>Function</em> <code class="language-plaintext highlighter-rouge">fn</code><br />
<strong>@param</strong> <em>Array</em> <code class="language-plaintext highlighter-rouge">args</code><br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр команды (для поддержки цепочки методов)</p>

<h4 id="cmdcomp">Cmd.comp</h4>
<p>Назначает кастомную функцию автодополнения для текущей команды.<br />
<strong>@param</strong> <em>Function</em> <code class="language-plaintext highlighter-rouge">fn</code> функция-генератор автодополнения,
    исполняемая в контексте текущей команды.
    Принимает параметры:<br />
        - <em>Object</em> <code class="language-plaintext highlighter-rouge">opts</code> параметры<br />
    Может возвращать промис или любое другое значение, рассматриваемое как результат исполнения команды.<br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр команды (для поддержки цепочки методов)</p>

<h4 id="cmdhelpful">Cmd.helpful</h4>
<p>Ставит флаг поддержки справки командной строки, т.е. вызов команды с параметрами -h –help выводит справку по работе с командой.<br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр команды (для поддержки цепочки методов)</p>

<h4 id="cmdcompletable">Cmd.completable</h4>
<p>Добавляет поддержку автодополнения командной строки. Добавляется подкоманда “completion”, которая выполняет все необходимые действия.<br />
Может быть добавлен только для главной команды.<br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр команды (для поддержки цепочки методов)</p>

<h4 id="cmdusage">Cmd.usage</h4>
<p>Возвращает текст справки по использованию команды для текущего экземпляра.<br />
<strong>@returns</strong> <em>String</em> <code class="language-plaintext highlighter-rouge">usage</code> Текст справки по использованию</p>

<h4 id="cmdrun">Cmd.run</h4>
<p>Разбирает аргументы из значения, возвращаемого NodeJS process.argv,
и запускает текущую программу, т.е. вызывает process.exit после завершения
всех действий.<br />
<strong>@param</strong> <em>Array</em> <code class="language-plaintext highlighter-rouge">argv</code><br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр команды (для поддержки цепочки методов)</p>

<h4 id="cmdinvoke">Cmd.invoke</h4>
<p>Исполняет переданную (или текущую) команду с указанными параметрами и аргументами.<br />
<strong>@param</strong> <em>String|Array</em> <code class="language-plaintext highlighter-rouge">cmds</code>  подкоманда для исполнения (необязательно)<br />
<strong>@param</strong> <em>Object</em> <code class="language-plaintext highlighter-rouge">opts</code>  параметры, передаваемые команде (необязательно)<br />
<strong>@param</strong> <em>Object</em> <code class="language-plaintext highlighter-rouge">args</code>  аргументы, передаваемые команде (необязательно)<br />
<strong>@returns</strong> <em>Q.Promise</em></p>

<h4 id="cmdreject">Cmd.reject</h4>
<p>Проваливает промисы, возращенные в действиях.<br />
Используется в .act() для возврата с ошибкой.<br />
<strong>@param</strong> <em>Object</em> <code class="language-plaintext highlighter-rouge">reason</code> причина провала<br />
    Вы можете определить метод toString() и свойство toString()
    объекта причины провала.<br />
<strong>@returns</strong> <em>Q.promise</em> проваленный промис</p>

<h4 id="cmdend">Cmd.end</h4>
<p>Завершает цепочку методов текущей подкоманды и возвращает экземпляр родительской команды.<br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">parent</code> родительская команда</p>

<h3 id="opt">Opt</h3>
<p>Параметр — именованная сущность. У параметра может быть определено короткое или длинное имя для использования из командной строки.<br />
<strong>@namespace</strong><br />
<strong>@class</strong> Переданный параметр</p>

<h4 id="optname">Opt.name</h4>
<p>Определяет канонический идентификатор параметра, используемый в вызовах API.<br />
<strong>@param</strong> <em>String</em> <code class="language-plaintext highlighter-rouge">_name</code> имя параметра<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="opttitle">Opt.title</h4>
<p>Определяет описание для параметра, используемое в текстовых сообщениях.<br />
<strong>@param</strong> <em>String</em> <code class="language-plaintext highlighter-rouge">_title</code> название параметра<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optshort">Opt.short</h4>
<p>Назначает ключ для короткого имени параметра, передаваемого из командной строки с одинарным дефисом (например, <code class="language-plaintext highlighter-rouge">-v</code>).<br />
<strong>@param</strong> <em>String</em> <code class="language-plaintext highlighter-rouge">_short</code><br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optlong">Opt.long</h4>
<p>Назначает ключ для длинного имени параметра, передаваемого из командной строки с двойным дефисом (например, <code class="language-plaintext highlighter-rouge">--version</code>).<br />
<strong>@param</strong> <em>String</em> <code class="language-plaintext highlighter-rouge">_long</code><br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optflag">Opt.flag</h4>
<p>Помечает параметр как логический, т.е. параметр не имеющий значения.<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optarr">Opt.arr</h4>
<p>Помечает параметр как принимающий множественные значения.<br />
Иначе будет использовано последнее переданное значение параметра.<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optreq">Opt.req</h4>
<p>Помечает параметр как обязательный.<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optonly">Opt.only</h4>
<p>Интерпретирует параметр как команду,
т.е. программа будет завершена сразу после выполнения параметра.<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optval">Opt.val</h4>
<p>Назначает функцию валидации (или трансформации значения) для значения параметра.<br />
Значение, полученное из командной строки, передается в функцию-валидатор прежде чем оно станет доступно из API.<br />
Используется для валидации и трансформации введенных данных.<br />
<strong>@param</strong> <em>Function</em> <code class="language-plaintext highlighter-rouge">_val</code> функция валидации,
    исполняемая в контексте экземпляра параметра
    и принимающая в качестве единственного параметра значение, полученное
    из командной строки<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optdef">Opt.def</h4>
<p>Назначает значение параметра по умолчанию. Это значение также передается
в функцию валидации как обычное значение.<br />
<strong>@param</strong> <em>Object</em> <code class="language-plaintext highlighter-rouge">_def</code><br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optinput">Opt.input</h4>
<p>Помечает параметр как принимающий ввод пользователя. <br />
Позволяет использовать валидацию для STDIN.<br />
<strong>@returns</strong> <em>{COA.Opt}</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optoutput">Opt.output</h4>
<p>Помечает параметр как вывод.<br />
Позволяет использовать валидацию для STDOUT.<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optact">Opt.act</h4>
<p>Добавляет (или создает) действие для текущего параметра команды.
Это действие будет выполнено, если текущий параметр есть
в списке полученных параметров (с любым значением).<br />
<strong>@param</strong> <em>Function</em> <code class="language-plaintext highlighter-rouge">act</code> функция, выполняемая в контексте
    экземпляра текущей команды и принимающая следующие параметры:<br />
        - <em>Object</em> <code class="language-plaintext highlighter-rouge">opts</code> параметры команды<br />
        - <em>Array</em> <code class="language-plaintext highlighter-rouge">args</code> аргументы команды<br />
        - <em>Object</em> <code class="language-plaintext highlighter-rouge">res</code> объект-аккумулятор результатов<br />
    Функция может вернуть проваленный промис из Cmd.reject (в случае ошибки)
    или любое другое значение, рассматриваемое как результат.<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optcomp">Opt.comp</h4>
<p>Назначает кастомную функцию автодополнения для текущей команды.<br />
<strong>@param</strong> <em>Function</em> <code class="language-plaintext highlighter-rouge">fn</code> функция-генератор автодоплнения, исполняемая в
    контексте экземпляра команды.
    Принимает параметры:<br />
        - <em>Object</em> <code class="language-plaintext highlighter-rouge">opts</code> параметры автодополнения<br />
    Может возвращать промис или любое другое значение, рассматриваемое как результат исполнения команды.<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр параметра (для поддержки цепочки методов)</p>

<h4 id="optend">Opt.end</h4>
<p>Завершает цепочку методов текущего параметра и возвращает экземпляр родительской команды.<br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">parent</code> родительская команда</p>

<h3 id="arg">Arg</h3>
<p>Аргумент — неименованная сущность.<br />
Аргументы передаются из командной строки как список неименованных значений.</p>

<h4 id="argname">Arg.name</h4>
<p>Определяет канонический идентификатор аргумента, используемый в вызовах API.<br />
<strong>@param</strong> <em>String</em> <code class="language-plaintext highlighter-rouge">_name</code> имя аргумента<br />
<strong>@returns</strong> <em>COA.Arg</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр аргумента (для поддержки цепочки методов)</p>

<h4 id="argtitle">Arg.title</h4>
<p>Определяет описание для аргумента, используемое в текстовых сообщениях.<br />
<strong>@param</strong> <em>String</em> <code class="language-plaintext highlighter-rouge">_title</code> описание аргумента<br />
<strong>@returns</strong> <em>COA.Arg</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр аргумента (для поддержки цепочки методов)</p>

<h4 id="argarr">Arg.arr</h4>
<p>Помечает аргумент как принимающий множественные значения.<br />
Иначе будет использовано последнее переданное значение аргумента.<br />
<strong>@returns</strong> <em>COA.Arg</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр аргумента (для поддержки цепочки методов)</p>

<h4 id="argreq">Arg.req</h4>
<p>Помечает аргумент как обязательный.<br />
<strong>@returns</strong> <em>COA.Arg</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр аргумента (для поддержки цепочки методов)</p>

<h4 id="argval">Arg.val</h4>
<p>Назначает функцию валидации (или трансформации значения) для аргумента.<br />
Значение, полученное из командной строки, передается в функцию-валидатор прежде чем оно станет доступно из API.<br />
Используется для валидации и трансформации введенных данных.<br />
<strong>@param</strong> <em>Function</em> <code class="language-plaintext highlighter-rouge">_val</code> функция валидации,
    исполняемая в контексте экземпляра аргумента
    и принимающая в качестве единственного параметра значение, полученное
    из командной строки<br />
<strong>@returns</strong> <em>COA.Opt</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр аргумента (для поддержки цепочки методов)</p>

<h4 id="argdef">Arg.def</h4>
<p>Назначает дефолтное значение для аргумента. Дефолтное значение передается
в функцию валидации как обычное значение.<br />
<strong>@param</strong> <em>Object</em> <code class="language-plaintext highlighter-rouge">_def</code><br />
<strong>@returns</strong> <em>COA.Arg</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр аргумента (для поддержки цепочки методов)</p>

<h4 id="argoutput">Arg.output</h4>
<p>Помечает параметр как вывод.<br />
Позволяет назначить валидацию для STDOUT.<br />
<strong>@returns</strong> <em>COA.Arg</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр аргумента (для поддержки цепочки методов)</p>

<h4 id="argcomp">Arg.comp</h4>
<p>Назначает кастомную функцию автодополнения для текущего аргумента.<br />
<strong>@param</strong> <em>Function</em> <code class="language-plaintext highlighter-rouge">fn</code> функция-генератор автодоплнения,
    исполняемая в контексте текущей команды.
    Принимает параметры:<br />
        - <em>Object</em> <code class="language-plaintext highlighter-rouge">opts</code> параметры
Может возвращать промис или любое другое значение, рассматриваемое как результат исполнения команды.<br />
<strong>@returns</strong> <em>COA.Arg</em> <code class="language-plaintext highlighter-rouge">this</code> экземпляр аргумента (для поддержки цепочки методов)</p>

<h4 id="argend">Arg.end</h4>
<p>Завершает цепочку методов текущего аргумента и возвращает экземпляр родительской команды.<br />
<strong>@returns</strong> <em>COA.Cmd</em> <code class="language-plaintext highlighter-rouge">parent</code> родительская команда</p>

  </article>
</section>


    <section class="page-section sponsorsec">
    <h1><a href="/pages/sponsors">Our lovely sponsors</a></h1>
    <div class="sponsors">
      
        <a class="sponsors__item" href="https://www.bloomberg.com/careers/technology/engineering/" title="Bloomberg" target="_blank">
          <img src="/assets/images/contrib/sponsors/bloomberg.png" alt="Bloomberg logo">
        </a>
      
        <a class="sponsors__item" href="https://www.tpp-uk.com" title="TPP" target="_blank">
          <img src="/assets/images/contrib/sponsors/tpp.png" alt="TPP logo">
        </a>
      
        <a class="sponsors__item" href="https://www.optiver.com" title="Optiver" target="_blank">
          <img src="/assets/images/contrib/sponsors/optiver.svg" alt="Optiver logo">
        </a>
      
        <a class="sponsors__item" href="https://www.graphcore.ai" title="GRAPHCORE" target="_blank">
          <img src="/assets/images/contrib/sponsors/graphcore.png" alt="GRAPHCORE logo">
        </a>
      
        <a class="sponsors__item" href="https://www.visa.co.uk/" title="Visa" target="_blank">
          <img src="/assets/images/contrib/sponsors/visa.webp" alt="Visa logo">
        </a>
      
        <a class="sponsors__item" href="https://pilgrim.co.uk/" title="Pilgrim Brewery" target="_blank">
          <img src="/assets/images/contrib/sponsors/pilgrim.png" alt="Pilgrim Brewery logo">
        </a>
      
    </div>
    <div class="sponsors__action_item">
      <h2>This could be you!</h2>
      <p><a class="btn" href="/pages/sponsors">Get in touch</a></p>
    </div>
</section>


    <footer class="page-footer">
  <span class="page-footer__text">&copy; University of Bristol Computer Science Society</span>
  <nav class="page-footer__menu">
    <ul>
    
      
    
      
      <li>
        <a class="page-link" href="/about/">About</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/contact/">Contact</a>
      </li>
      
    
      
    
      
      <li>
        <a class="page-link" href="/events/">Events</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/jobs/">Jobs</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/tutorials/">Tutorials</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/wellbeing/">Wellbeing</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    </ul>
  </nav>
  <!--
  <section class="page-footer__sponsors">
    
  </section>
  <section class="page-footer__socials">
  </section>
  --!>
</footer>


  </body>

</html>
